<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>F.A.D.E. // Operation MEMORIA — Teaser Terminal</title>
  <meta name="description" content="F.A.D.E.公式ティザー端末の簡易サイト">
  <meta property="og:title" content="F.A.D.E. // Operation MEMORIA — Teaser Terminal">
  <meta property="og:description" content="観測せよ、記録せよ、理解するな">
  <meta property="og:type" content="website">
  <meta name="theme-color" content="#0b0f12">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <div class="noise"></div>
  <header class="site-header" aria-label="FADE header">
    <div class="logo">F.A.D.E.</div>
    <div class="badge" aria-hidden="true">INTERNAL // ACCESS: RESTRICTED</div>
  </header>

  <!-- Boot / Access Screen -->
  <section class="boot" id="boot" aria-label="System boot sequence">
    <div class="boot-bg"></div>
    <div class="terminal">
      <p class="t-line">[FADE CENTRAL NODE] Initializing</p>
      <p class="t-line">Auth Layer: <span class="blink">●</span> Negotiating</p>
      <p class="t-line">L-EX Sync: Pending — A-ZERO: Standby</p>
      <p class="t-line accent">ACCESSING F.A.D.E. TERMINAL</p>
      <p class="t-line faint">hint: Press Enter or tap to continue</p>
    </div>

    <!-- L-EXゲージ -->
    <div class="lex-gauge">
      <div class="lex-label" id="lexLabel">L-EX SYNCHRONIZATION</div>
      <div class="lex-bar"><span id="lexBar"></span></div>
    </div>
  </section>

  <main id="main" hidden>
    <!-- Hero -->
    <section class="hero" aria-label="Hero">
      <h1>OPERATION <span>MEMORIA</span></h1>
      <p class="subtitle">Observation Protocol Initialized</p>
      <p class="cipher" aria-label="cipher status" data-text="SIGNAL LOCK ACQUIRED">SIGNAL LOCK ACQUIRED</p>
      <p class="motto">観測せよ、記録せよ、理解するな</p>
      <div class="meta">
        <span>F.A.D.E. / Field Analysis &amp; Deviation Enforcement</span>
        <span class="dot">•</span>
        <span>Non-combat RP / Investigation Only</span>
      </div>
    </section>

    <!-- Mission Outline -->
    <section class="panel" id="mission" aria-labelledby="mission-title">
      <h2 id="mission-title">MISSION OUTLINE</h2>
      <p>
        廃都市にて発生する逸脱現象を<strong>観測・記録</strong>する非戦闘型の現地任務。<br>
        対象への介入・交戦は禁止。観測の継続こそが封鎖手段。
      </p>
      <ul class="spec">
        <li><span>作戦名</span><b>Operation MEMORIA</b></li>
        <li><span>管轄</span><b>F.A.D.E. / Central Division</b></li>
        <li><span>目的</span><b>Observation(観測) &amp; Report(報告)</b></li>
        <li><span>禁止</span><b>Interference(干渉) / Comprehension(理解)</b></li>
      </ul>
    </section>

    <!-- Organization -->
    <section class="panel" id="org" aria-labelledby="org-title">
      <h2 id="org-title">F.A.D.E. ORGANIZATION DATA</h2>
      <p>
        F.A.D.E.（Field Analysis &amp; Deviation Enforcement）は、<br>
        人類の理解を超えた現象を観測・記録する国際組織。<br>
        理念は「観測せよ、記録せよ、理解するな」
      </p>
      <div class="grid two">
        <div class="card">
          <h3>Observation is Containment</h3>
          <p>観測により領域の拡大を抑制。記録は最優先任務。</p>
        </div>
        <div class="card">
          <h3>Operational Ethics</h3>
          <p>善悪判断をせず、中立を維持。ACE(適格存在)の出現を仮定する。</p>
        </div>
      </div>
    </section>

    <!-- Entities -->
    <section class="panel" id="entities" aria-labelledby="entities-title">
      <h2 id="entities-title">OBSERVED ENTITIES</h2>
      <div class="grid two">
        <article class="entity">
          <h3>D-05 “VOLTAGE”</h3>
          <p class="tag">Electro-Reactive Entity</p>
          <p>元人間由来の電磁干渉体。送電網事故後、電位として残留。</p>
          <a class="more" href="#modal-voltage" aria-label="More about VOLTAGE">View Fragment →</a>
        </article>
        <article class="entity">
          <h3>D-S09 “HELIOS-9”</h3>
          <p class="tag">Thermal-Humanoid Deviation</p>
          <p>太陽炉事故の被災者。意識が高温プラズマに同化した灼熱体。</p>
          <a class="more" href="#modal-helios" aria-label="More about HELIOS-9">View Fragment →</a>
        </article>
      </div>
      <p class="note">※ 上記は観測断片。詳細報告は任務開始時に公開。</p>
    </section>

    <!-- Join -->
    <section class="panel join" id="join" aria-labelledby="join-title">
      <h2 id="join-title">JOIN MISSION</h2>
      <p>あなたの観測データが必要です。参加希望者は以下のリンクから登録してください。</p>
      <div class="cta">
        <a class="btn" href="https://x.com/VRC_FADE" target="_blank" rel="noopener">X Account</a>
        <a class="btn ghost" href="https://twitter.com/hashtag/VRC_FADE" target="_blank" rel="noopener">#VRC_FADE</a>
      </div>
    </section>
  </main>

  <footer class="site-footer" aria-label="footer">
    <small>© F.A.D.E. Central Division — Internal Access Only</small>
  </footer>

  <!-- CSS-only Modals via :target -->
<section id="modal-voltage" class="modal" aria-label="VOLTAGE Log">
  <div class="modal-dialog" role="dialog" aria-modal="true">
    <a href="#" class="modal-close" aria-label="Close">×</a>
    <h3>Observation Log: VOLTAGE</h3>
    <p class="mono">Timestamp 22:17:48 JST</p>
    <p>送電網への再接続を検出。EMP様反応が上昇。観測継続により電位は安定。</p>
    <p>観測員の端末に向けて攻撃性を示すため、機器の段階的遮断を実施。</p>

    <!-- 🔽 ここから追加 -->
    <p class="security-level" id="securityLevelIV">セキュリティレベルⅣ</p>

    <div id="passPrompt" class="pass-window hidden">
      <p>ACCESS CODE REQUIRED</p>
      <input type="password" id="passInput" placeholder="ENTER CODE">
      <button id="passSubmit">VERIFY</button>
      <p id="passMsg" class="pass-msg"></p>
    </div>
    <!-- 🔼 ここまで追加 -->

  </div>
</section>

  <section id="modal-helios" class="modal" aria-label="HELIOS-9 Log">
    <div class="modal-dialog" role="dialog" aria-modal="true">
      <a href="#" class="modal-close" aria-label="Close">×</a>
      <h3>Observation Log: HELIOS-9</h3>
      <p class="mono">Timestamp 03:22:05 JST</p>
      <p>臨界域周辺で温度急上昇を確認。A-ZERO干渉波で位相を拡散。観測は継続。</p>
      <p>対象は救済の語彙を用いるが実質は焼却行為。対話は不可。</p>
    </div>
  </section>

  <script>
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const boot = document.getElementById('boot');
    const main = document.getElementById('main');

    function continueBoot() {
      boot.style.display = 'none';
      main.hidden = false;
      if (!prefersReduced) document.body.classList.add('fade-in');
    }
    boot.addEventListener('click', continueBoot);
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') continueBoot();
    });

/* === L-EXゲージ制御：Complete!!で完全停止（再描画封印版） === */
(function() {
  const bar = document.getElementById('lexBar');
  const label = document.getElementById('lexLabel');
  if (!bar || !label) return;

  let progress = 0;
  let interval = null;

  function updateGauge() {
    progress += 1.5;
    if (progress >= 100) {
      progress = 100;
      bar.style.width = '100%';
      clearInterval(interval);

      // --- 完了演出 ---
      bar.style.transition = 'none';
      bar.style.boxShadow = '0 0 32px #00f5ffcc';
      label.textContent = 'Complete!!';
      label.style.color = '#00f5ff';
      label.style.textShadow = '0 0 12px #00f5ffcc';

      // --- 発光を落として固定 ---
      setTimeout(() => {
        bar.style.boxShadow = '0 0 8px #00f5ff55';
        bar.style.transition = 'none';
        // ★ ここで描画再計算を強制 → 以後再描画停止
        bar.getBoundingClientRect(); 
        // ★ CSSアニメ・トランジションを完全除去
        bar.style.animation = 'none';
        bar.style.willChange = 'auto';
        // ★ 一切動かない静的状態
      }, 400);
    } else {
      bar.style.width = progress + '%';
    }
  }

  interval = setInterval(updateGauge, 75);
})();

    /* === モーダル閉鎖（Esc＋外クリック） === */
    (function() {
      let lastScrollY = 0;
      document.addEventListener("click", e => {
        if (e.target.matches("a.more")) lastScrollY = window.scrollY;
      });
      document.addEventListener("keydown", e => {
        if (e.key === "Escape") {
          const m = document.querySelector(".modal:target");
          if (m) { location.hash = ""; setTimeout(() => window.scrollTo(0,lastScrollY),10); }
        }
      });
      document.querySelectorAll(".modal-close").forEach(c=>{
        c.addEventListener("click", e=>{
          e.preventDefault(); location.hash=""; setTimeout(()=>window.scrollTo(0,lastScrollY),10);
        });
      });
      document.addEventListener("click", e=>{
        const m = document.querySelector(".modal:target");
        if (m && e.target===m) { location.hash=""; setTimeout(()=>window.scrollTo(0,lastScrollY),10); }
      });
    })();
  </script>
  <script>
const secBtn = document.getElementById('securityLevelIV');
const passWin = document.getElementById('passPrompt');
const passBtn = document.getElementById('passSubmit');
const passInput = document.getElementById('passInput');
const passMsg = document.getElementById('passMsg');

secBtn.addEventListener('click', () => {
  passWin.classList.toggle('hidden');
  passMsg.textContent = '';
  passInput.value = '';
});

passBtn.addEventListener('click', () => {
  const code = passInput.value.trim().toUpperCase();

  if (code === 'ARC-06-VOLTAGE') { // ← ここを好きなパスワードに変更
    passMsg.innerHTML = '<span style="color:#ff3333;">[ALERT]</span> Unauthorized signal detected...';
    document.body.classList.add('voltage-interference');

    setTimeout(() => {
      passMsg.innerHTML = '<span style="color:#ffaa00;">[SYSTEM]</span> Communication disrupted...';
    }, 1000);

    setTimeout(() => {
      passMsg.innerHTML = '<span style="color:#00f5ff;">[FADE]</span> Redirecting to Observation Log...';
    }, 2200);

    setTimeout(() => {
      window.location.href = './voltage.html';
    }, 2500);

  } else {
    passMsg.textContent = 'ACCESS DENIED';
    passMsg.style.color = '#ff4444';
  }
});
</script>

</body>
</html>
