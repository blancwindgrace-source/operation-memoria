<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>F.A.D.E. // Operation MEMORIA — Teaser Terminal</title>
  <meta name="description" content="F.A.D.E.公式ティザー端末の簡易サイト">
  <meta property="og:title" content="F.A.D.E. // Operation MEMORIA — Teaser Terminal">
  <meta property="og:description" content="観測せよ、記録せよ、理解するな">
  <meta property="og:type" content="website">
  <meta name="theme-color" content="#0b0f12">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <div class="noise"></div>
  <header class="site-header" aria-label="FADE header">
    <div class="logo">F.A.D.E.</div>
    <div class="badge" aria-hidden="true">INTERNAL // ACCESS: RESTRICTED</div>
  </header>

  <!-- Boot / Access Screen -->
  <section class="boot" id="boot" aria-label="System boot sequence">
    <div class="boot-bg"></div>
    <div class="terminal">
      <p class="t-line">[FADE CENTRAL NODE] Initializing</p>
      <p class="t-line">Auth Layer: <span class="blink">●</span> Negotiating</p>
      <p class="t-line">L-EX Sync: Pending — A-ZERO: Standby</p>
      <p class="t-line accent">ACCESSING F.A.D.E. TERMINAL</p>
      <p class="t-line faint">hint: Press Enter or tap to continue</p>
    </div>

    <!-- L-EXゲージ -->
    <div class="lex-gauge">
      <div class="lex-label" id="lexLabel">L-EX SYNCHRONIZATION</div>
      <div class="lex-bar"><span id="lexBar"></span></div>
    </div>
  </section>

  <main id="main" hidden>
    <!-- Hero -->
    <section class="hero" aria-label="Hero">
      <h1>OPERATION <span>MEMORIA</span></h1>
      <p class="subtitle">Observation Protocol Initialized</p>
      <p class="cipher" aria-label="cipher status" data-text="SIGNAL LOCK ACQUIRED">SIGNAL LOCK ACQUIRED</p>
      <p class="motto">観測せよ、記録せよ、理解するな</p>
      <div class="meta">
        <span>F.A.D.E. / Field Analysis &amp; Deviation Enforcement</span>
        <span class="dot">•</span>
        <span>Non-combat RP / Investigation Only</span>
      </div>
    </section>

    <!-- Mission Outline -->
    <section class="panel" id="mission" aria-labelledby="mission-title">
      <h2 id="mission-title">MISSION OUTLINE</h2>
      <p>
        廃都市にて発生する逸脱現象を<strong>観測・記録</strong>する非戦闘型の現地任務。<br>
        対象への介入・交戦は禁止。観測の継続こそが封鎖手段。
      </p>
      <ul class="spec">
        <li><span>作戦名</span><b>Operation MEMORIA</b></li>
        <li><span>管轄</span><b>F.A.D.E. / Central Division</b></li>
        <li><span>目的</span><b>Observation(観測) &amp; Report(報告)</b></li>
        <li><span>禁止</span><b>Interference(干渉) / Comprehension(理解)</b></li>
      </ul>
    </section>

    <!-- Organization -->
    <section class="panel" id="org" aria-labelledby="org-title">
      <h2 id="org-title">F.A.D.E. ORGANIZATION DATA</h2>
      <p>
        F.A.D.E.（Field Analysis &amp; Deviation Enforcement）は、<br>
        人類の理解を超えた現象を観測・記録する国際組織。<br>
        理念は「観測せよ、記録せよ、理解するな」
      </p>
      <div class="grid two">
        <div class="card">
          <h3>Observation is Containment</h3>
          <p>観測により領域の拡大を抑制。記録は最優先任務。</p>
        </div>
        <div class="card">
          <h3>Operational Ethics</h3>
          <p>善悪判断をせず、中立を維持。ACE(適格存在)の出現を仮定する。</p>
        </div>
      </div>
    </section>

    <!-- Entities -->
    <section class="panel" id="entities" aria-labelledby="entities-title">
      <h2 id="entities-title">OBSERVED ENTITIES</h2>
      <div class="grid two">
        <article class="entity">
          <h3>D-05 “VOLTAGE”</h3>
          <p class="tag">Electro-Reactive Entity</p>
          <p>元人間由来の電磁干渉体。送電網事故後、電位として残留。</p>
<a href="#" class="more open-modal" data-target="modal-voltage" aria-label="More about VOLTAGE">
  View Fragment →
</a>
        </article>
        <article class="entity">
          <h3>D-S09 “HELIOS-9”</h3>
          <p class="tag">Thermal-Humanoid Deviation</p>
          <p>太陽炉事故の被災者。意識が高温プラズマに同化した灼熱体。</p>
<a href="#" class="more open-modal" data-target="modal-helios9" aria-label="More about HELIOS-9">
  View Fragment →
</a>
        </article>
      </div>
      <p class="note">※ 上記は観測断片。詳細報告は任務開始時に公開。</p>
    </section>

    <!-- Join -->
    <section class="panel join" id="join" aria-labelledby="join-title">
      <h2 id="join-title">JOIN MISSION</h2>
      <p>あなたの観測データが必要です。参加希望者は以下のリンクから登録してください。</p>
      <div class="cta">
        <a class="btn" href="https://x.com/VRC_FADE" target="_blank" rel="noopener">X Account</a>
        <a class="btn ghost" href="https://twitter.com/hashtag/VRC_FADE" target="_blank" rel="noopener">#VRC_FADE</a>
      </div>
    </section>
  </main>

<footer class="site-footer" aria-label="footer">
  <small>© F.A.D.E. Central Division — Internal Access Only</small><br>
  <a href="./glossary.html" class="btn ghost">Terminology Archive</a>
</footer>

<section id="modal-voltage" class="modal" aria-label="VOLTAGE Log">
  <div class="modal-dialog">
    <button class="modal-close" aria-label="Close">&times;</button>
    <h3>Observation Log: VOLTAGE</h3>
    <p class="mono">Timestamp 22:17:48 JST</p>
    <p>送電網への再接続を検出。EMP反応が上昇。観測継続により電位は安定。</p>
    <p>観測員の端末に向けて攻撃性を示すため、機器の段階的遮断を実施。</p>

    <!-- 🔽 セキュリティ＆パスワード入力 -->
    <p class="security-level" id="securityLevelIV">セキュリティレベルⅣ</p>

    <div id="passPrompt" class="pass-window hidden">
      <p>ACCESS CODE REQUIRED</p>
      <div class="pass-input-wrapper">
        <input type="password" id="passInput" placeholder="ENTER CODE">
        <button id="togglePass" aria-label="Show password">👁</button>
      </div>
      <button id="passSubmit">VERIFY</button>
      <p id="passMsg" class="pass-msg"></p>
    </div>
    <!-- 🔼 ここまで -->
  </div>
</section>

<section id="modal-helios9" class="modal" aria-label="HELIOS Log">
  <div class="modal-dialog">
    <button class="modal-close" aria-label="Close">&times;</button>
    <h3>Observation Log: HELIOS-9</h3>
    <p class="mono">Timestamp 03:22:05 JST</p>
    <p>臨界域周辺で温度急上昇を確認。A-ZERO干渉波で位相を拡散。観測は継続。</p>
    <p>対象は救済の語彙を用いるが実質は焼却行為。対話は不可。</p>

    <!-- 🔽 セキュリティ＆パスワード入力 -->
    <p class="security-level" id="securityLevelH9">セキュリティレベルⅣ</p>

    <div id="passPromptH9" class="pass-window hidden">
      <p>ACCESS CODE REQUIRED</p>
      <div class="pass-input-wrapper">
        <input type="password" id="passInputH9" placeholder="ENTER CODE">
        <button id="togglePassH9" aria-label="Show password">👁</button>
      </div>
      <button id="passSubmitH9">VERIFY</button>
      <p id="passMsgH9" class="pass-msg"></p>
    </div>
    <!-- 🔼 ここまで追加 -->
  </div>
</section>

<script>
/* === Boot（起動シーケンス）=== */
const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
const boot = document.getElementById('boot');
const main = document.getElementById('main');
function continueBoot() {
  boot.style.display = 'none';
  main.hidden = false;
  if (!prefersReduced) document.body.classList.add('fade-in');
}
boot.addEventListener('click', continueBoot);
window.addEventListener('keydown', (e) => {
  if (e.key === 'Enter' || e.key === ' ') continueBoot();
});

/* === L-EXゲージ：Complete!!で停止 === */
(function() {
  const bar = document.getElementById('lexBar');
  const label = document.getElementById('lexLabel');
  if (!bar || !label) return;
  let progress = 0;
  let interval = setInterval(() => {
    progress += 1.5;
    if (progress >= 100) {
      progress = 100;
      bar.style.width = '100%';
      clearInterval(interval);
      bar.style.transition = 'none';
      bar.style.boxShadow = '0 0 32px #00f5ffcc';
      label.textContent = 'Complete!!';
      label.style.color = '#00f5ff';
      label.style.textShadow = '0 0 12px #00f5ffcc';
      setTimeout(() => {
        bar.style.boxShadow = '0 0 8px #00f5ff55';
        bar.style.animation = 'none';
        bar.style.willChange = 'auto';
      }, 400);
    } else {
      bar.style.width = progress + '%';
    }
  }, 75);
})();

/* === モーダル制御（中央固定・Esc・外クリック・スクロール固定対応）=== */
const modalTriggers = document.querySelectorAll('.open-modal');
const modals = document.querySelectorAll('.modal');
const body = document.body;
let lastScrollY = 0;

modalTriggers.forEach(trigger => {
  trigger.addEventListener('click', e => {
    e.preventDefault();
    const targetId = trigger.dataset.target;
    const modal = document.getElementById(targetId);
    if (modal) {
      lastScrollY = window.scrollY;
      modal.classList.add('active');
      body.classList.add('modal-open');
    }
  });
});

modals.forEach(modal => {
  const closeBtn = modal.querySelector('.modal-close');

  const closeModal = () => {
    modal.classList.remove('active');
    body.classList.remove('modal-open');
    setTimeout(() => window.scrollTo(0, lastScrollY), 10);
  };

  // ×ボタン
  closeBtn.addEventListener('click', e => {
    e.preventDefault();
    closeModal();
  });
  // 背景クリック
  modal.addEventListener('click', e => {
    if (e.target === modal) closeModal();
  });
  // Escキー
  document.addEventListener('keydown', e => {
    if (e.key === 'Escape' && modal.classList.contains('active')) closeModal();
  });
});

/* === セキュリティレベルⅣ：パスワード入力 === */
const securityBtn = document.getElementById('securityLevelIV');
const passPrompt = document.getElementById('passPrompt');
const passInput = document.getElementById('passInput');
const passSubmit = document.getElementById('passSubmit');
const passMsg = document.getElementById('passMsg');

if (securityBtn) {
  securityBtn.addEventListener('click', () => {
    passPrompt.classList.toggle('hidden');
    passMsg.textContent = '';
    passInput.value = '';
  });
}

if (passSubmit) {
  passSubmit.addEventListener('click', e => {
    e.preventDefault();
    const entered = passInput.value.trim();
    const correctCode = 'ARC-06-VOLTAGE'; // ← 任意に変更可能

    if (entered === correctCode) {
      passMsg.style.color = '#00e7ff';
      passMsg.textContent = 'ACCESS GRANTED';
      setTimeout(() => {
        window.location.href = 'voltage.html';
      }, 1500);
    } else {
      passMsg.style.color = '#ef4444';
      passMsg.textContent = 'ACCESS DENIED';
    }
  });
}
  
/* === パスワード表示切り替え === */
const togglePass = document.getElementById('togglePass');
if (togglePass && passInput) {
  togglePass.addEventListener('click', () => {
    const type = passInput.getAttribute('type') === 'password' ? 'text' : 'password';
    passInput.setAttribute('type', type);
    togglePass.textContent = type === 'password' ? '👁' : '🙈';
  });
}
/* === HELIOS-9 アクセス制御 === */
const secBtnH9 = document.getElementById('securityLevelH9');
const passWinH9 = document.getElementById('passPromptH9');
const passBtnH9 = document.getElementById('passSubmitH9');
const passInputH9 = document.getElementById('passInputH9');
const passMsgH9 = document.getElementById('passMsgH9');
const togglePassH9 = document.getElementById('togglePassH9');

if (secBtnH9) {
  secBtnH9.addEventListener('click', () => {
    passWinH9.classList.toggle('hidden');
    passMsgH9.textContent = '';
    passInputH9.value = '';
  });
}

// 👁 パスワード表示切替
if (togglePassH9 && passInputH9) {
  togglePassH9.addEventListener('click', () => {
    const type = passInputH9.getAttribute('type') === 'password' ? 'text' : 'password';
    passInputH9.setAttribute('type', type);
    togglePassH9.textContent = type === 'password' ? '👁' : '🙈';
  });
}

// パスワード検証処理
if (passBtnH9) {
  passBtnH9.addEventListener('click', () => {
    const code = passInputH9.value.trim().toUpperCase();

    if (code === 'SOL-09-HELIOS') { // ✅ 成功パス
      passMsgH9.innerHTML = '<span style="color:#ff6600;">[ALERT]</span> Core Temperature Rising...';
      setTimeout(() => {
        passMsgH9.innerHTML = '<span style="color:#ffaa00;">[SYSTEM]</span> Emergency Containment...';
      }, 900);
      setTimeout(() => {
        window.location.href = './helios.html';
      }, 2500);
    } else {
      passMsgH9.textContent = 'ACCESS DENIED';
      passMsgH9.style.color = '#ff4444';
    }
  });
}

</script>


</body>
</html>
