<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>F.A.D.E. // PROJECT MEMORIA</title>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  padding: 0;
  background-color: #05080b;
  color: #c9f3ff;
  font-family: 'Share Tech Mono', monospace;
  line-height: 1.7;
  overflow-x: hidden;
  position: relative;
}

/* Header */
header {
  text-align: center;
  padding: 60px 20px 10px;
}
header h1 {
  font-size: 1.8rem;
  color: #00f5ff;
  text-shadow: 0 0 12px #00f5ffcc;
  letter-spacing: 0.08em;
  animation: fadeIn 2s ease-in;
}
header p {
  color: #7deaff;
  font-size: 0.9rem;
  margin-top: 4px;
}

/* Sections */
section {
  width: 90%;
  max-width: 900px;
  margin: 20px auto;
  background-color: #081017;
  border: 1px solid #00f5ff22;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 0 10px #00f5ff22;
}
h2 {
  color: #00f5ff;
  text-shadow: 0 0 6px #00f5ff99;
  letter-spacing: 0.05em;
  margin-top: 10px;
}

/* Log terminal */
.logbox {
  background-color: #000;
  color: #00ffcc;
  border: 1px solid #00f5ff66;
  padding: 10px;
  margin-top: 20px;
  font-size: 0.9rem;
  border-radius: 6px;
  box-shadow: 0 0 8px #00f5ff44;
}
.jp {
  display: block;
  color: #7deaffaa;
  font-size: 0.9em;
  margin-left: 10px;
  letter-spacing: 0.02em;
}

/* Typing animation */
#observerNotes {
  width: 90%;
  max-width: 800px;
  margin: 60px auto;
  white-space: pre-line;
  border-left: 2px solid #00f5ff88;
  padding-left: 16px;
  font-size: 1rem;
  color: #b9ecff;
  animation: typing 8s steps(80, end) forwards, blink 0.9s step-end infinite;
  overflow: hidden;
}
@keyframes typing {
  from {width: 0;}
  to {width: 100%;}
}
@keyframes blink {
  50% {border-color: transparent;}
}

/* AI Message */
#aiMessage {
  text-align: center;
  font-size: 2.6rem;
  color: #00f5ff;
  opacity: 0;
  margin-top: 60px;
  text-shadow: 0 0 12px #00f5ffcc;
  transition: opacity 2s ease-in;
}

/* Return link */
.return-link {
  text-align: center;
  margin: 60px 0 20px;
}
.return-link a {
  color: #00f5ff;
  text-decoration: none;
  border: 1px solid #00f5ff66;
  padding: 8px 16px;
  border-radius: 4px;
  transition: all 0.2s ease;
}
.return-link a:hover {
  background-color: #00f5ff22;
  text-shadow: 0 0 6px #00f5ffcc;
}

/* Flash + noise animation */
.flash {
  position: fixed;
  inset: 0;
  background: white;
  opacity: 0;
  mix-blend-mode: screen;
  z-index: 9999;
  pointer-events: none; /* ★常にクリックを透過させる */
  transition: opacity 0.15s ease-out;
}

.noise {
  position: fixed;
  inset: 0;
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR4AWP4//8/AwAI/AL+N8zdcAAAAABJRU5ErkJggg==');
  mix-blend-mode: lighten;
  opacity: 0;
  z-index: 9998;
  pointer-events: none; /* ★これも忘れずに追加 */
  animation: noisePulse 0.15s steps(2) infinite;
}

@keyframes noisePulse {
  0% {opacity: .2;}
  50% {opacity: .4;}
  100% {opacity: .2;}
}

/* flash-active 時もクリック不可・演出のみ */
.flash-active .flash {
  opacity: 1;
  pointer-events: none; /* ★演出中でもクリック透過 */
}

.flash-active .noise {
  opacity: 0.5;
  pointer-events: none;
}

/* FadeIn effect */
@keyframes fadeIn {
  from {opacity: 0; transform: translateY(-10px);}
  to {opacity: 1; transform: translateY(0);}
}

#blackout {
  position: fixed;
  inset: 0;
  background-color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  color: #00f5ff;
  opacity: 1; /* ← 最初から不透明 */
  z-index: 10000;
  pointer-events: none;
}

/* === 内部配置 === */
.blackout-inner {
  text-align: center;
}

/* === CONNECTION LOST === */
#blackout .disconnect {
  font-size: 2.8rem;
  letter-spacing: 0.1em;
  text-shadow: 0 0 8px #00f5ff88;
  opacity: 0;
  transition: opacity 2.5s ease-in;
}

/* === AIメッセージ === */
#blackout .farewell {
  font-size: 2.6rem;
  margin-top: 1.2rem;
  text-shadow: 0 0 10px #00f5ffcc;
  opacity: 0;
  transition: opacity 3s ease-in;
}


/* === Countdown Timer === */
.countdown {
  position: fixed;
  top: 20px;
  right: 30px;
  font-size: 1rem;
  color: #00f5ff;
  letter-spacing: 0.08em;
  text-shadow: 0 0 6px #00f5ff88;
  z-index: 9999;
  opacity: 0;
  transition: opacity 0.6s ease-in;
}

.countdown.warning {
  color: #ff5555;
  text-shadow: 0 0 10px #ff5555aa;
}  

/* Footer */
footer {
  text-align: center;
  padding: 20px;
  font-size: 0.8rem;
  color: #00f5ff88;
}
footer small {
  display: block;
  margin-top: 6px;
}
</style>
</head>

<body>

<div class="flash"></div>
<div class="noise"></div>
<div id="blackout">
  <div class="blackout-inner">
    <p class="farewell">[FADE CORE AI] Thank you, Observer.</p>
    <p class="disconnect">F.A.D.E. Terminal — CONNECTION LOST</p>
  </div>
</div>

<header>
  <h1>PROJECT MEMORIA // FINAL ARCHIVE</h1>
  <p>Access Level: V / Timestamp 00:00:00 JST</p>
</header>
  
<section>
  <h2>■ 概要</h2>
  <p>本記録は、F.A.D.E.が観測した全逸脱体の最終統合報告であり、<br>
     各個体の行動・出現条件・収束手段はすべて記録済み。<br>
     観測任務「Operation MEMORIA」は現在も継続中である。</p>
</section>

<section>
  <h2>■ 任務経路</h2>
  <p>作戦ルート：Command → City → Tunnel → Laboratory → Return</p>
  <p>すべての観測点において「干渉禁止」プロトコルを遵守。</p>
</section>

<section>
  <h2>■ 逸脱体観測総括</h2>
  <ul>
    <li>VOLTAGE（D-05） ― 電磁干渉体</li>
    <li>HELIOS-9（D-S09） ― 灼熱現象体</li>
    <li>その他、未登録体が複数存在する可能性を確認</li>
  </ul>
</section>

<!-- ✅ ACE LOGS（英日対訳） -->
<section>
  <h2>■ ACE LOGS（干渉記録）</h2>
  <div class="logbox">
    <p>[00:00:01] Signal Received — Unknown Source Detected.<br>
       <span class="jp">[00:00:01] 信号受信 ― 未知の発信源を検出</span></p>

    <p>[00:00:02] Transmission Pattern: Non-FADE Origin / AUTH: UNKNOWN.<br>
       <span class="jp">[00:00:02] 伝送パターン：FADE以外の発信。認証：不明</span></p>

    <p>[00:00:03] Message Fragment: “—You are not alone.”<br>
       <span class="jp">[00:00:03] メッセージ断片：「――君は独りではない」</span></p>

    <p>[00:00:04] Energy spike observed — possible ACE resonance.<br>
       <span class="jp">[00:00:04] エネルギー急上昇を観測 ― ACEとの共鳴の可能性</span></p>

    <p>[00:00:05] Log corrupted beyond this point...<br>
       <span class="jp">[00:00:05] この先の記録は損傷している……</span></p>
  </div>
</section>

<!-- ✅ Observer Notes（タイピング演出） -->
<div id="observerNotes">
記録は途切れ、声は遠のいた。  
だが、観測の灯は消えていない。  
― まだ見ぬ未来のために、私たちは観測を続ける。
</div>  
  
<div class="return-link">
  <a href="./index.html">← Return to Central Terminal</a>
</div>

<footer>
  F.A.D.E. / Field Analysis & Deviation Enforcement<br>
  <small>PROJECT MEMORIA — Internal Archive Node</small>
</footer>

<script>

// Observer Notesが打ち終わった後にAIメッセージを表示
setTimeout(() => {
  document.getElementById('aiMessage').style.opacity = 1;
}, 9500);

// blackout表示：AIメッセージとCONNECTION LOST同時演出
setTimeout(() => {
  const blackout = document.getElementById('blackout');
  blackout.style.opacity = 1; // フェードイン開始
}, 40000); // ← 暗転タイミング（調整可能）
</script>

  <script>
window.addEventListener('load', () => {
  const countdown = document.getElementById('countdown');
  const timerSpan = document.getElementById('timer');

  let timeLeft = 40; // 秒数設定
  countdown.style.opacity = 1;

  const interval = setInterval(() => {
    timeLeft--;
    timerSpan.textContent = timeLeft;

    // 残り5秒以下で赤く点滅
    if (timeLeft <= 5) countdown.classList.add('warning');

    // 0秒でフェードアウト
    if (timeLeft <= 0) {
      clearInterval(interval);
      countdown.style.opacity = 0;
    }
  }, 1000);
});
</script>

  
<!-- Countdown Timer -->
<div id="countdown" class="countdown">
  システム遮断まで: <span id="timer">40</span>s
</div>
<script>
window.addEventListener('load', () => {
  const disconnect = document.querySelector('#blackout .disconnect');
  const farewell = document.querySelector('#blackout .farewell');

  // 最初は非表示
  disconnect.style.opacity = 0;
  farewell.style.opacity = 0;

  // CONNECTION LOST → 1秒後に表示
  setTimeout(() => {
    disconnect.style.opacity = 1;
  }, 1000);

  // AIメッセージ → 6秒後に表示
  setTimeout(() => {
    farewell.style.opacity = 1;
  }, 4000);
});
</script>
</body>
</html>
